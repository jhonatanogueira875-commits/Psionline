<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Psionline - Painel Admin</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Supabase Client Library (DEVE SER O PRIMEIRO SCRIPT JS) -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Chart.js CDN (Para gr√°ficos do Dashboard) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <!-- Estilos customizados -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        .glass {
            backdrop-filter: blur(10px);
            background-color: rgba(255, 255, 255, 0.7);
        }
        .font-sans {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <div id="app">
        <!-- Conte√∫do inicial - Loader -->
        <div class="flex justify-center items-center h-screen bg-gray-50">
            <div class="flex items-center p-8 rounded-xl bg-white shadow-xl">
                <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"></div>
                <p class="ml-4 text-lg text-gray-700">Carregando aplica√ß√£o...</p>
            </div>
        </div>
    </div>

    <!-- SEUS SCRIPTS -->
    <script src="app.js"></script>
    
    <script>
        // Quando a p√°gina (DOM) estiver totalmente carregada
        document.addEventListener('DOMContentLoaded', () => {
            console.log("‚úî DOM Carregado. Iniciando autentica√ß√£o...");
            // Verifica se a fun√ß√£o render() foi definida pelo app.js
            if (typeof render === 'function') {
                console.log("Fun√ß√£o render() encontrada. Iniciando renderiza√ß√£o...");
                // Aqui chamamos o render se o script app.js carregou.
                render(); 
            } else {
                console.error("ERRO CR√çTICO: app.js n√£o carregado. Verifique a aba 'Network' (Rede) e o Console.");
                
                // Mensagem de falha para o usu√°rio
                document.getElementById('app').innerHTML = `
                    <div class="flex justify-center items-center h-screen bg-red-100">
                        <div class="text-center p-8 max-w-lg w-full text-red-800 bg-white border border-red-400 rounded-lg shadow-2xl">
                            <p class="font-bold text-xl mb-3">üö® Falha Cr√≠tica na Inicializa√ß√£o üö®</p>
                            <p class="text-base mb-4">
                                O arquivo <code>app.js</code> n√£o foi carregado corretamente. Isso pode ser um problema de 
                                **letras mai√∫sculas/min√∫sculas** ou um **erro de sintaxe**.
                            </p>
                            <p class="text-sm text-red-600 font-mono">
                                **VERIFIQUE:** O nome do arquivo no seu reposit√≥rio deve ser <strong>exatamente</strong> 
                                <code>app.js</code> (min√∫sculas).
                            </p>
                        </div>
                    </div>
                `;
            }
        });
    </script>
</body>
</html>
